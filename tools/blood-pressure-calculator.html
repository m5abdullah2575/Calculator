<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Pressure Calculator - Advanced BP Analyzer | Free Blood Pressure Assessment</title>
    <meta name="description" content="Calculate and interpret your blood pressure readings with our advanced BP calculator. Supports age-based analysis, pulse pressure, MAP calculations & comprehensive health insights. Get instant results!">
    <meta name="keywords" content="blood pressure calculator, BP calculator, systolic diastolic pressure, hypertension calculator, pulse pressure, MAP calculator, cardiovascular health">
    <meta property="og:title" content="Blood Pressure Calculator - Advanced BP Analyzer">
    <meta property="og:description" content="Calculate your blood pressure with age considerations. Get pulse pressure, MAP, and detailed cardiovascular health insights.">
    <meta property="og:type" content="website">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Blood Pressure Calculator",
      "description": "Advanced blood pressure calculator with age considerations, pulse pressure, and MAP calculations",
      "applicationCategory": "HealthApplication",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link rel="stylesheet" href="../style.css">
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <div id="header-placeholder"></div>

    <!-- Tool Header -->
    <section class="tool-header">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <nav class="breadcrumb justify-center text-blue-200">
                <a href="../index.html" class="text-blue-200 hover:text-white">Home</a>
                <i data-feather="chevron-right" class="w-4 h-4"></i>
                <span>Blood Pressure Calculator</span>
            </nav>
            <div class="flex items-center justify-center mb-4">
                <div class="bg-white bg-opacity-20 p-4 rounded-xl">
                    <i data-feather="heart" class="w-12 h-12"></i>
                </div>
            </div>
            <h1 class="text-4xl font-bold mb-4">Advanced Blood Pressure Calculator</h1>
            <p class="text-xl text-blue-100 max-w-2xl mx-auto">
                Calculate and interpret your blood pressure readings with age considerations. Get pulse pressure, MAP, and comprehensive cardiovascular health insights.
            </p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="tool-container">
            <!-- Calculator Card -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <div class="space-y-6">
                    <!-- Age and Gender Section -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-lg font-semibold text-gray-900 mb-3">Age</label>
                            <input 
                                type="number" 
                                id="bpAge" 
                                placeholder="ages: 2 - 120"
                                min="2"
                                max="120"
                                class="w-full px-4 py-4 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                        </div>
                        <div>
                            <label class="block text-lg font-semibold text-gray-900 mb-3">Gender</label>
                            <select 
                                id="bpGender"
                                class="w-full px-4 py-4 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </div>
                    </div>

                    <!-- Blood Pressure Readings Section -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-lg font-semibold text-gray-900 mb-3">Systolic Pressure (mmHg)</label>
                            <input 
                                type="number" 
                                id="systolic" 
                                placeholder="Top number (e.g., 120)"
                                min="50"
                                max="300"
                                class="w-full px-4 py-4 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                            <p class="text-sm text-gray-500 mt-1">The higher number when heart beats</p>
                        </div>
                        
                        <div>
                            <label class="block text-lg font-semibold text-gray-900 mb-3">Diastolic Pressure (mmHg)</label>
                            <input 
                                type="number" 
                                id="diastolic" 
                                placeholder="Bottom number (e.g., 80)"
                                min="30"
                                max="200"
                                class="w-full px-4 py-4 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                            <p class="text-sm text-gray-500 mt-1">The lower number between heartbeats</p>
                        </div>
                    </div>

                    <!-- Optional: Heart Rate for enhanced analysis -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-lg font-semibold text-gray-900 mb-3">Heart Rate (Optional)</label>
                            <input 
                                type="number" 
                                id="heartRate" 
                                placeholder="beats per minute (e.g., 72)"
                                min="30"
                                max="220"
                                class="w-full px-4 py-4 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                            <p class="text-sm text-gray-500 mt-1">For enhanced cardiovascular analysis</p>
                        </div>
                        <div>
                            <label class="block text-lg font-semibold text-gray-900 mb-3">Activity Level</label>
                            <select 
                                id="activityLevel"
                                class="w-full px-4 py-4 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                                <option value="resting">At Rest</option>
                                <option value="light">Light Activity</option>
                                <option value="moderate">Moderate Activity</option>
                                <option value="vigorous">After Exercise</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                        <button 
                            onclick="calculateBloodPressure()" 
                            class="flex-1 bg-red-600 text-white py-4 px-6 rounded-lg text-lg font-semibold hover:bg-red-700 transition-colors flex items-center justify-center"
                        >
                            <i data-feather="heart" class="w-5 h-5 mr-2"></i>
                            Analyze Blood Pressure
                        </button>
                        <button 
                            onclick="resetBloodPressure()" 
                            class="px-6 py-4 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors flex items-center justify-center"
                        >
                            <i data-feather="refresh-cw" class="w-5 h-5 mr-2"></i>
                            Reset
                        </button>
                    </div>

                    <!-- Results Section -->
                    <div id="bloodPressureResult" class="result-display hidden"></div>
                </div>
            </div>
            
            <!-- Blood Pressure Categories -->
            <div class="bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-6 mb-6">
                <h3 class="text-xl font-bold text-red-900 mb-6 flex items-center">
                    <i data-feather="target" class="w-6 h-6 mr-2"></i>
                    Blood Pressure Categories (AHA Guidelines)
                </h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Normal -->
                    <div class="bg-green-100 border border-green-200 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
                            <h4 class="font-semibold text-green-800">Normal</h4>
                        </div>
                        <div class="text-sm text-green-700">
                            <div>Systolic: &lt; 120 mmHg</div>
                            <div>Diastolic: &lt; 80 mmHg</div>
                        </div>
                    </div>
                    
                    <!-- Elevated -->
                    <div class="bg-yellow-100 border border-yellow-200 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-3 h-3 bg-yellow-500 rounded-full mr-2"></div>
                            <h4 class="font-semibold text-yellow-800">Elevated</h4>
                        </div>
                        <div class="text-sm text-yellow-700">
                            <div>Systolic: 120-129 mmHg</div>
                            <div>Diastolic: &lt; 80 mmHg</div>
                        </div>
                    </div>
                    
                    <!-- Stage 1 Hypertension -->
                    <div class="bg-orange-100 border border-orange-200 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-3 h-3 bg-orange-500 rounded-full mr-2"></div>
                            <h4 class="font-semibold text-orange-800">Stage 1 High</h4>
                        </div>
                        <div class="text-sm text-orange-700">
                            <div>Systolic: 130-139 mmHg</div>
                            <div>Diastolic: 80-89 mmHg</div>
                        </div>
                    </div>
                    
                    <!-- Stage 2 Hypertension -->
                    <div class="bg-red-100 border border-red-200 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-3 h-3 bg-red-500 rounded-full mr-2"></div>
                            <h4 class="font-semibold text-red-800">Stage 2 High</h4>
                        </div>
                        <div class="text-sm text-red-700">
                            <div>Systolic: ≥ 140 mmHg</div>
                            <div>Diastolic: ≥ 90 mmHg</div>
                        </div>
                    </div>
                    
                    <!-- Hypertensive Crisis -->
                    <div class="bg-purple-100 border border-purple-200 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-3 h-3 bg-purple-500 rounded-full mr-2"></div>
                            <h4 class="font-semibold text-purple-800">Crisis</h4>
                        </div>
                        <div class="text-sm text-purple-700">
                            <div>Systolic: ≥ 180 mmHg</div>
                            <div>Diastolic: ≥ 120 mmHg</div>
                        </div>
                    </div>

                    <!-- Low Blood Pressure -->
                    <div class="bg-blue-100 border border-blue-200 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div>
                            <h4 class="font-semibold text-blue-800">Low BP</h4>
                        </div>
                        <div class="text-sm text-blue-700">
                            <div>Systolic: &lt; 90 mmHg</div>
                            <div>Diastolic: &lt; 60 mmHg</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional Information Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <!-- Pulse Pressure Info -->
                <div class="bg-blue-50 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-blue-900 mb-4 flex items-center">
                        <i data-feather="activity" class="w-5 h-5 mr-2"></i>
                        Pulse Pressure
                    </h3>
                    <div class="text-sm text-blue-800 space-y-2">
                        <p><strong>Normal:</strong> 30-50 mmHg</p>
                        <p><strong>Calculation:</strong> Systolic - Diastolic</p>
                        <p class="text-xs">Indicates arterial stiffness and cardiovascular health</p>
                    </div>
                </div>
                
                <!-- Mean Arterial Pressure Info -->
                <div class="bg-purple-50 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-purple-900 mb-4 flex items-center">
                        <i data-feather="trending-up" class="w-5 h-5 mr-2"></i>
                        Mean Arterial Pressure (MAP)
                    </h3>
                    <div class="text-sm text-purple-800 space-y-2">
                        <p><strong>Normal:</strong> 70-100 mmHg</p>
                        <p><strong>Calculation:</strong> DBP + ⅓(SBP - DBP)</p>
                        <p class="text-xs">Average pressure during one cardiac cycle</p>
                    </div>
                </div>
            </div>
            
            <!-- Disclaimer -->
            <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-yellow-900 mb-3">⚠️ Medical Disclaimer</h3>
                <p class="text-yellow-800 text-sm">
                    This calculator is for educational purposes only and should not replace professional medical advice. 
                    Always consult with healthcare professionals for medical concerns and treatment decisions.
                </p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <div id="footer-placeholder"></div>

    <script src="../script.js"></script>
    <script>
        // Initialize Feather icons
        feather.replace();

        // Load header and footer
        document.addEventListener('DOMContentLoaded', function() {
            // Load header
            fetch('../header.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-placeholder').innerHTML = data;
                })
                .catch(error => console.error('Error loading header:', error));

            // Load footer
            fetch('../footer.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer-placeholder').innerHTML = data;
                })
                .catch(error => console.error('Error loading footer:', error));
        });

        // Enhanced Blood Pressure Calculator
        function calculateBloodPressure() {
            const systolic = parseFloat(document.getElementById('systolic').value);
            const diastolic = parseFloat(document.getElementById('diastolic').value);
            const age = parseInt(document.getElementById('bpAge').value);
            const gender = document.getElementById('bpGender').value;
            const heartRate = parseFloat(document.getElementById('heartRate').value);
            const activityLevel = document.getElementById('activityLevel').value;
            const resultDiv = document.getElementById('bloodPressureResult');

            // Validation
            if (!systolic || !diastolic) {
                resultDiv.innerHTML = '<div class="result-display error">Please enter both systolic and diastolic pressure values.</div>';
                resultDiv.classList.remove('hidden');
                return;
            }

            if (systolic <= diastolic) {
                resultDiv.innerHTML = '<div class="result-display error">Systolic pressure must be higher than diastolic pressure.</div>';
                resultDiv.classList.remove('hidden');
                return;
            }

            if (systolic < 50 || systolic > 300 || diastolic < 30 || diastolic > 200) {
                resultDiv.innerHTML = '<div class="result-display error">Please enter valid blood pressure values (Systolic: 50-300, Diastolic: 30-200).</div>';
                resultDiv.classList.remove('hidden');
                return;
            }

            // Calculate additional metrics
            const pulsePress = systolic - diastolic;
            const meanArterialPress = diastolic + (pulsePress / 3);

            // Determine blood pressure category
            let category, categoryClass, recommendation;
            
            if (systolic >= 180 || diastolic >= 120) {
                category = "Hypertensive Crisis";
                categoryClass = "bg-purple-100 border-purple-500 text-purple-900";
                recommendation = "⚠️ EMERGENCY: Seek immediate medical attention!";
            } else if (systolic >= 140 || diastolic >= 90) {
                category = "Stage 2 Hypertension";
                categoryClass = "bg-red-100 border-red-500 text-red-900";
                recommendation = "Consult your doctor about medication and lifestyle changes.";
            } else if (systolic >= 130 || diastolic >= 80) {
                category = "Stage 1 Hypertension";
                categoryClass = "bg-orange-100 border-orange-500 text-orange-900";
                recommendation = "Consider lifestyle modifications and regular monitoring.";
            } else if (systolic >= 120 && diastolic < 80) {
                category = "Elevated";
                categoryClass = "bg-yellow-100 border-yellow-500 text-yellow-900";
                recommendation = "Focus on lifestyle changes to prevent progression.";
            } else if (systolic < 90 || diastolic < 60) {
                category = "Low Blood Pressure";
                categoryClass = "bg-blue-100 border-blue-500 text-blue-900";
                recommendation = "Monitor symptoms. Consult doctor if symptomatic.";
            } else {
                category = "Normal";
                categoryClass = "bg-green-100 border-green-500 text-green-900";
                recommendation = "Great! Maintain your healthy lifestyle.";
            }

            // Age and gender considerations
            let ageConsideration = "";
            if (age) {
                if (age >= 65) {
                    ageConsideration = "For adults 65+, slightly higher readings may be acceptable (up to 150/90).";
                } else if (age <= 18) {
                    ageConsideration = "Pediatric blood pressure norms vary by age, height, and gender.";
                }
            }

            // Heart rate analysis
            let heartRateAnalysis = "";
            if (heartRate) {
                if (heartRate < 60) {
                    heartRateAnalysis = "Heart rate is below normal range (bradycardia).";
                } else if (heartRate > 100) {
                    heartRateAnalysis = "Heart rate is above normal range (tachycardia).";
                } else {
                    heartRateAnalysis = "Heart rate is within normal range (60-100 bpm).";
                }
            }

            // Activity level consideration
            let activityNote = "";
            if (activityLevel !== "resting") {
                activityNote = "⚠️ Note: Blood pressure readings are elevated due to activity. For accurate diagnosis, measure at rest.";
            }

            // Generate results HTML
            const resultsHTML = `
                <div class="space-y-6">
                    <div class="border-2 ${categoryClass} rounded-xl p-6">
                        <h3 class="text-xl font-bold mb-4 flex items-center">
                            <i data-feather="heart" class="w-6 h-6 mr-2"></i>
                            Blood Pressure Analysis
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-lg mb-3">Your Reading:</h4>
                                <div class="text-3xl font-bold mb-2">${systolic}/${diastolic} mmHg</div>
                                <div class="text-lg font-semibold">Category: ${category}</div>
                            </div>
                            <div>
                                <h4 class="font-semibold text-lg mb-3">Additional Metrics:</h4>
                                <div class="space-y-2 text-sm">
                                    <div><strong>Pulse Pressure:</strong> ${pulsePress.toFixed(0)} mmHg ${pulsePress < 30 ? '(Low)' : pulsePress > 50 ? '(High)' : '(Normal)'}</div>
                                    <div><strong>Mean Arterial Pressure:</strong> ${meanArterialPress.toFixed(0)} mmHg ${meanArterialPress < 70 ? '(Low)' : meanArterialPress > 100 ? '(High)' : '(Normal)'}</div>
                                    ${age ? `<div><strong>Age:</strong> ${age} years</div>` : ''}
                                    ${heartRate ? `<div><strong>Heart Rate:</strong> ${heartRate} bpm</div>` : ''}
                                </div>
                            </div>
                        </div>
                        <div class="mt-4 p-4 bg-white bg-opacity-70 rounded-lg">
                            <p class="font-medium">${recommendation}</p>
                            ${ageConsideration ? `<p class="text-sm mt-2"><strong>Age Consideration:</strong> ${ageConsideration}</p>` : ''}
                            ${heartRateAnalysis ? `<p class="text-sm mt-2"><strong>Heart Rate:</strong> ${heartRateAnalysis}</p>` : ''}
                            ${activityNote ? `<p class="text-sm mt-2 text-orange-800">${activityNote}</p>` : ''}
                        </div>
                    </div>
                </div>
            `;

            resultDiv.innerHTML = resultsHTML;
            resultDiv.classList.remove('hidden');
            
            // Re-initialize Feather icons for the new content
            feather.replace();
        }

        function resetBloodPressure() {
            document.getElementById('systolic').value = '';
            document.getElementById('diastolic').value = '';
            document.getElementById('bpAge').value = '';
            document.getElementById('bpGender').value = 'male';
            document.getElementById('heartRate').value = '';
            document.getElementById('activityLevel').value = 'resting';
            document.getElementById('bloodPressureResult').classList.add('hidden');
        }
    </script>
</body>
</html>